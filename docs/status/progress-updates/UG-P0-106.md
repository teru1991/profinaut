# UG-P0-106 â€” Python SDK Dead Man's Switch -> SAFE_MODE

## Config knobs (with defaults)

- `DEADMAN_STALE_SECONDS=90`
- `DEADMAN_ACTION=FLATTEN|HALT` (default: `FLATTEN`)
- `CONTROL_PLANE_TIMEOUT_SECONDS=5`

## Expected behavior

| Runtime state | Trigger | Order placement | Safe actions |
| --- | --- | --- | --- |
| `NORMAL` | control plane healthy | allowed | allowed |
| `SAFE_MODE` | control plane stale/unreachable beyond `DEADMAN_STALE_SECONDS` | blocked (no upstream `place_order` call) | `FLATTEN` or `HALT` action is applied |

### Notes

- Control-plane failures (heartbeat/poll/ack) increment dead-man failure tracking.
- Once stale threshold is reached, SDK transitions to `SAFE_MODE` and logs the `reason_code`.
- Transition is one-way in this implementation (manual process restart/reset required to leave `SAFE_MODE`).

## Test command

- `npm run test:sdk-python`
